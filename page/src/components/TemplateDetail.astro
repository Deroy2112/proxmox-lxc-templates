---
// Template Detail Component
// Populated dynamically via JavaScript
---

<article id="template-detail" class="hidden">
  <!-- Back Button -->
  <button class="btn btn-ghost btn-sm mb-6" id="back-to-list">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" style="width: 16px; height: 16px;">
      <path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z" />
    </svg>
    Back to Templates
  </button>

  <!-- Header: Icon + Name + Badges -->
  <div class="flex items-center gap-4 mb-6">
    <div class="app-icon" style="width: 80px; height: 80px;">
      <img
        id="detail-icon"
        alt=""
        style="width: 48px; height: 48px;"
        onerror="this.style.display='none';this.nextElementSibling.style.display='flex'"
      />
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" style="display: none; width: 40px; height: 40px;">
        <path d="M216,72H56a8,8,0,0,1,0-16H192a8,8,0,0,0,0-16H56A24,24,0,0,0,32,64V192a24,24,0,0,0,24,24H216a16,16,0,0,0,16-16V88A16,16,0,0,0,216,72Z" />
      </svg>
    </div>
    <div>
      <h1 id="detail-name" style="font-size: 2rem; font-weight: 700; margin-bottom: 8px;"></h1>
      <div id="detail-badges" class="flex flex-wrap gap-2"></div>
    </div>
  </div>

  <!-- Description -->
  <p id="detail-description" style="font-size: 1.125rem; color: var(--text-dark-secondary); margin-bottom: 32px; max-width: 800px;"></p>

  <!-- Two Column Layout -->
  <div class="detail-grid">
    <!-- Main Column -->
    <div class="detail-main">
      <!-- Download Card -->
      <div id="detail-download-section" class="card mb-6">
        <div class="card-body">
          <h2 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 16px;">Download</h2>

          <div class="input-group">
            <input id="detail-wget" type="text" readonly />
            <button id="detail-wget-copy" title="Copy to clipboard">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" style="width: 16px; height: 16px;">
                <path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z" />
              </svg>
            </button>
          </div>

          <!-- SHA512 with Copy Button -->
          <div id="detail-sha512-wrapper" class="input-group mt-3">
            <input id="detail-sha512" type="text" readonly />
            <button id="detail-sha512-copy" title="Copy SHA512">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor" style="width: 16px; height: 16px;">
                <path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Installation Guide -->
      <div id="detail-install-section" class="card mb-6">
        <div class="card-body">
          <h2 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 16px;">Installation</h2>
          <ol class="install-steps">
            <li>
              <span class="step-number">1</span>
              <div class="step-content">
                <strong>Open Proxmox UI</strong>
                <p>Datacenter → Storage → Select your storage</p>
              </div>
            </li>
            <li>
              <span class="step-number">2</span>
              <div class="step-content">
                <strong>Container-Templates</strong>
                <p>Click "Container-Templates" → "Download from URL"</p>
              </div>
            </li>
            <li>
              <span class="step-number">3</span>
              <div class="step-content">
                <strong>Enter URL</strong>
                <p>Paste the download URL from above</p>
              </div>
            </li>
            <li>
              <span class="step-number">4</span>
              <div class="step-content">
                <strong>Add Checksum</strong>
                <p>Select SHA-512 and paste the hash for verification</p>
              </div>
            </li>
          </ol>
        </div>
      </div>

      <!-- Quick Start -->
      <div id="detail-quickstart-section" class="card mb-6 hidden">
        <div class="card-body">
          <h2 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 16px;">Quick Start</h2>
          <div id="detail-quickstart" class="code-block">
            <pre><code></code></pre>
          </div>
        </div>
      </div>

      <!-- FAQ -->
      <div id="detail-faq-section" class="mb-6 hidden">
        <h2 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 16px;">FAQ</h2>
        <div id="detail-faq" class="accordion"></div>
      </div>

      <!-- Changelog -->
      <div id="detail-changelog-section" class="accordion hidden">
        <div class="accordion-item" id="changelog-item">
          <button class="accordion-header" id="changelog-toggle">
            Changelog
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor">
              <path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z" />
            </svg>
          </button>
          <div id="detail-changelog" class="accordion-content"></div>
        </div>
      </div>
    </div>

    <!-- Sidebar Column -->
    <div class="detail-sidebar">
      <!-- Resources Stats -->
      <div id="detail-resources" class="stats mb-6"></div>

      <!-- Ports -->
      <div id="detail-ports-section" class="card mb-6 hidden">
        <div class="card-body">
          <h3 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 12px;">Ports</h3>
          <table class="table">
            <tbody id="detail-ports"></tbody>
          </table>
        </div>
      </div>

      <!-- Paths -->
      <div id="detail-paths-section" class="card mb-6 hidden">
        <div class="card-body">
          <h3 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 12px;">Important Paths</h3>
          <table class="table">
            <tbody id="detail-paths"></tbody>
          </table>
        </div>
      </div>

      <!-- Credentials -->
      <div id="detail-credentials-section" class="alert alert-warning mb-6 hidden">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor">
          <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z" />
        </svg>
        <div>
          <div class="alert-title">Default Credentials</div>
          <div id="detail-credentials" class="alert-content"></div>
        </div>
      </div>

      <!-- Release Info -->
      <div id="detail-release-section" class="text-sm text-muted hidden">
        <p id="detail-release-date" class="mb-2"></p>
        <a id="detail-github-link" href="#" target="_blank" rel="noopener noreferrer" style="color: var(--primary);">
          View on GitHub &rarr;
        </a>
      </div>
    </div>
  </div>
</article>

<style>
  #detail-description {
    color: var(--text-secondary);
  }

  .detail-grid {
    display: grid;
    grid-template-columns: 1fr 320px;
    gap: 32px;
  }

  @media (max-width: 1024px) {
    .detail-grid {
      grid-template-columns: 1fr;
    }

    .detail-sidebar {
      order: -1;
    }
  }

  .detail-main {
    min-width: 0;
  }

  .detail-sidebar {
    position: sticky;
    top: 24px;
    align-self: start;
  }

  @media (max-width: 1024px) {
    .detail-sidebar {
      position: static;
    }
  }

  /* Installation Steps */
  .install-steps {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .install-steps li {
    display: flex;
    align-items: flex-start;
    gap: 12px;
  }

  .step-number {
    flex-shrink: 0;
    width: 28px;
    height: 28px;
    background: var(--primary);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8125rem;
    font-weight: 600;
  }

  .step-content {
    flex: 1;
    padding-top: 2px;
  }

  .step-content strong {
    display: block;
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 2px;
  }

  .step-content p {
    font-size: 0.8125rem;
    color: var(--text-muted);
    margin: 0;
  }

</style>
